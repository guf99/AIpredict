<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>VOLIX AI</title>
    <style>
        :root {
            --bg: #050505;
            --bg-soft: #0b0d0f;
            --panel: rgba(12, 14, 16, 0.7);
            --panel-strong: rgba(12, 14, 16, 0.9);
            --border: rgba(255, 255, 255, 0.08);
            --text: #f8f8f8;
            --muted: #9da3aa;
            --accent: #97eefb;
            --accent-strong: #67d7e7;
            --success: #2fe37f;
            --danger: #ff4d4d;
            --warning: #ffb020;
            --chip: rgba(151, 238, 251, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', 'Segoe UI', system-ui, sans-serif;
            background: radial-gradient(circle at 20% 20%, rgba(38, 91, 97, 0.25), transparent 55%),
                radial-gradient(circle at 80% 20%, rgba(38, 91, 97, 0.18), transparent 45%),
                var(--bg);
            color: var(--text);
            min-height: 100vh;
            letter-spacing: 0.2px;
        }

        .grid-bg {
            position: fixed;
            inset: 0;
            background-image: linear-gradient(rgba(255, 255, 255, 0.04) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 255, 255, 0.04) 1px, transparent 1px);
            background-size: 80px 80px;
            opacity: 0.4;
            pointer-events: none;
            z-index: 0;
        }

        .container {
            width: min(1200px, 92vw);
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        header {
            border-bottom: 1px solid var(--border);
            background: rgba(5, 5, 5, 0.7);
            backdrop-filter: blur(12px);
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .nav {
            display: grid;
            grid-template-columns: minmax(180px, 1fr) auto minmax(180px, 1fr);
            align-items: center;
            padding: 18px 0;
            gap: 12px;
            width: 100%;
        }

        .brand {
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: 700;
            letter-spacing: 1px;
        }

        .brand-badge {
            width: 40px;
            height: 40px;
            background: transparent;
            border-radius: 0;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .brand-badge img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            mix-blend-mode: screen;
        }

        nav {
            justify-self: center;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        nav ul {
            list-style: none;
            display: flex;
            gap: 32px;
            justify-content: center;
            align-items: center;
            font-size: 12px;
            letter-spacing: 2px;
            text-transform: uppercase;
            color: var(--muted);
            margin: 0;
            padding: 0;
        }

        nav ul li {
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            padding: 8px 0;
            animation: fadeInDown 0.6s ease-out backwards;
        }

        nav ul li:nth-child(1) { animation-delay: 0.1s; }
        nav ul li:nth-child(2) { animation-delay: 0.2s; }
        nav ul li:nth-child(3) { animation-delay: 0.3s; }
        nav ul li:nth-child(4) { animation-delay: 0.4s; }

        nav ul li::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%) scaleX(0);
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--accent), transparent);
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 2px;
        }

        nav ul li::after {
            content: '';
            position: absolute;
            inset: -8px;
            background: radial-gradient(circle, rgba(151, 238, 251, 0.1), transparent 70%);
            border-radius: 8px;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: -1;
        }

        nav ul li:hover {
            color: var(--accent);
            text-shadow: 0 0 20px rgba(151, 238, 251, 0.5);
            transform: translateY(-2px);
        }

        nav ul li:hover::before {
            transform: translateX(-50%) scaleX(1);
        }

        nav ul li:hover::after {
            opacity: 1;
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .nav-right {
            display: flex;
            align-items: center;
            gap: 18px;
            font-size: 12px;
            letter-spacing: 1px;
            text-transform: uppercase;
            color: var(--muted);
            justify-self: end;
        }

        .status-dot {
            width: 7px;
            height: 7px;
            background: var(--success);
            border-radius: 50%;
            display: inline-block;
            box-shadow: 0 0 12px rgba(46, 227, 127, 0.8);
        }

        .btn {
            padding: 10px 18px;
            border-radius: 8px;
            border: 1px solid var(--border);
            background: transparent;
            color: var(--text);
            text-transform: uppercase;
            font-size: 12px;
            letter-spacing: 2px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .btn:hover {
            border-color: var(--accent);
            color: var(--accent);
            box-shadow: 0 0 20px rgba(151, 238, 251, 0.2);
        }

        .hero {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 120px 0 80px;
            text-align: center;
        }

        .hero > div:first-child {
            display: flex;
            flex-direction: column;
            align-items: center;
            max-width: 900px;
            animation: fadeInUp 0.8s cubic-bezier(0.4, 0, 0.2, 1) backwards;
        }

        .hero > div:last-child {
            display: none;
        }

        .pill {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 6px 14px;
            border-radius: 999px;
            background: var(--chip);
            border: 1px solid rgba(151, 238, 251, 0.3);
            color: var(--accent);
            font-size: 12px;
            letter-spacing: 2px;
            text-transform: uppercase;
            margin-bottom: 18px;
            animation: glow 3s ease-in-out infinite;
            transition: all 0.3s ease;
        }

        .pill:hover {
            transform: scale(1.05);
            box-shadow: 0 0 30px rgba(151, 238, 251, 0.4);
        }

        .hero h1 {
            font-size: clamp(46px, 8vw, 84px);
            line-height: 0.92;
            text-transform: uppercase;
            letter-spacing: 2px;
            animation: slideInLeft 1s cubic-bezier(0.4, 0, 0.2, 1) 0.3s backwards;
        }

        .hero h1 span {
            color: var(--accent);
            text-shadow: 0 0 25px rgba(151, 238, 251, 0.6);
            display: inline-block;
            animation: textGlow 2s ease-in-out infinite;
        }

        .hero p {
            margin-top: 24px;
            font-size: 16px;
            color: var(--muted);
            line-height: 1.6;
            max-width: 620px;
            animation: fadeIn 1s ease-out 0.5s backwards;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInRight {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        @keyframes glow {
            0%, 100% {
                box-shadow: 0 0 5px rgba(151, 238, 251, 0.2);
            }
            50% {
                box-shadow: 0 0 20px rgba(151, 238, 251, 0.4), 0 0 30px rgba(151, 238, 251, 0.2);
            }
        }

        @keyframes textGlow {
            0%, 100% {
                text-shadow: 0 0 25px rgba(151, 238, 251, 0.6);
            }
            50% {
                text-shadow: 0 0 35px rgba(151, 238, 251, 0.8), 0 0 45px rgba(151, 238, 251, 0.4);
            }
        }

        .hero p strong {
            color: var(--text);
        }

        .terminal {
            background: linear-gradient(180deg, rgba(11, 14, 16, 0.95), rgba(9, 11, 13, 0.85));
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 22px;
            min-height: 360px;
            box-shadow: 0 0 60px rgba(0, 0, 0, 0.5);
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .terminal:hover {
            box-shadow: 0 0 80px rgba(151, 238, 251, 0.2), 0 0 60px rgba(0, 0, 0, 0.5);
            border-color: rgba(151, 238, 251, 0.3);
            transform: translateY(-2px);
        }

        .terminal::after {
            content: '';
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at top right, rgba(151, 238, 251, 0.15), transparent 55%);
            pointer-events: none;
        }

        .pm-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 18px;
        }

        .pm-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .pm-card {
            background: rgba(34, 45, 59, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 14px;
            padding: 16px;
            display: grid;
            gap: 12px;
            min-height: 180px;
            box-shadow: 0 16px 30px rgba(0, 0, 0, 0.35);
        }

        .pm-card-header {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .pm-icon {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            object-fit: cover;
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .pm-title {
            font-size: 14px;
            font-weight: 600;
            line-height: 1.4;
        }

        .pm-outcomes {
            display: grid;
            gap: 8px;
        }

        .pm-outcome {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 13px;
        }

        .pm-outcome .yes {
            color: var(--success);
            background: rgba(47, 227, 127, 0.15);
            padding: 6px 10px;
            border-radius: 6px;
            font-weight: 600;
        }

        .pm-outcome .no {
            color: #97eefb;
            background: rgba(151, 238, 251, 0.15);
            padding: 6px 10px;
            border-radius: 6px;
            font-weight: 600;
        }

        .pm-meta {
            font-size: 12px;
            color: var(--muted);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .pm-status {
            font-size: 11px;
            letter-spacing: 2px;
            text-transform: uppercase;
            color: var(--muted);
        }

        .terminal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 11px;
            letter-spacing: 2px;
            text-transform: uppercase;
            color: var(--muted);
            margin-bottom: 14px;
        }

        .terminal-lines {
            font-family: 'JetBrains Mono', 'Fira Code', monospace;
            font-size: 12px;
            color: rgba(255, 255, 255, 0.6);
            line-height: 1.8;
        }

        .terminal-lines span {
            color: var(--accent);
        }

        section {
            padding: 60px 0;
            border-top: 1px solid var(--border);
        }

        .section-title {
            text-align: center;
            margin-bottom: 40px;
        }

        .section-title h2 {
            font-size: clamp(28px, 4vw, 44px);
            letter-spacing: 2px;
        }

        .section-title h2 span {
            color: var(--accent);
        }

        .section-title p {
            color: var(--muted);
            max-width: 720px;
            margin: 18px auto 0;
            line-height: 1.6;
        }

        .compare {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 24px;
        }

        .compare-card {
            background: var(--panel);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 24px;
            min-height: 240px;
        }

        .compare-card h3 {
            font-size: 16px;
            letter-spacing: 1px;
            margin-bottom: 12px;
        }

        .compare-card ul {
            list-style: none;
            margin-top: 18px;
            display: grid;
            gap: 12px;
            color: var(--muted);
            font-size: 14px;
        }

        .compare-card li::before {
            content: '‚Ä¢';
            color: var(--accent);
            margin-right: 8px;
        }

        .live-markets {
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 24px;
        }

        .live-chip {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-size: 12px;
            text-transform: uppercase;
            color: var(--muted);
        }

        .market-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .market-card {
            background: var(--panel-strong);
            border: 1px solid var(--border);
            border-radius: 14px;
            padding: 20px;
            display: grid;
            gap: 14px;
            min-height: 220px;
            box-shadow: 0 16px 30px rgba(0, 0, 0, 0.35);
        }

        .market-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
        }

        .market-title {
            font-size: 16px;
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        .market-price {
            font-size: 22px;
            color: var(--accent);
            font-weight: 700;
        }

        .price-change {
            font-size: 12px;
            padding: 4px 10px;
            border-radius: 999px;
            font-weight: 600;
            letter-spacing: 1px;
        }

        .price-change.positive {
            color: var(--success);
            background: rgba(47, 227, 127, 0.15);
        }

        .price-change.negative {
            color: var(--danger);
            background: rgba(255, 77, 77, 0.15);
        }

        .market-badges {
            display: flex;
            gap: 10px;
            align-items: center;
            font-size: 11px;
            color: var(--muted);
        }

        .chance {
            margin-left: auto;
            background: rgba(255, 255, 255, 0.08);
            padding: 6px 10px;
            border-radius: 999px;
            font-size: 12px;
        }

        .pill-up {
            background: rgba(47, 227, 127, 0.15);
            color: var(--success);
            padding: 8px 12px;
            border-radius: 8px;
            text-align: center;
            font-weight: 600;
        }

        .pill-down {
            background: rgba(255, 77, 77, 0.15);
            color: var(--danger);
            padding: 8px 12px;
            border-radius: 8px;
            text-align: center;
            font-weight: 600;
        }

        .market-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            font-size: 12px;
            color: var(--muted);
        }

        .market-stat {
            background: rgba(0, 0, 0, 0.35);
            padding: 8px 10px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.06);
        }

        .stats-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 30px;
            text-align: center;
        }

        .stat-item h3 {
            font-size: clamp(24px, 3vw, 38px);
        }

        .stat-item p {
            color: var(--muted);
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 20px;
        }

        .feature-card {
            background: var(--panel);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 22px;
            min-height: 200px;
        }

        .feature-card h4 {
            margin-bottom: 12px;
        }

        .feature-card p {
            color: var(--muted);
            line-height: 1.6;
            font-size: 14px;
        }

        .cta {
            background: var(--panel);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 60px 24px;
            text-align: center;
        }

        .cta h2 {
            font-size: clamp(28px, 4vw, 52px);
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        .cta p {
            color: var(--muted);
            margin: 16px auto 24px;
            max-width: 520px;
        }

        footer {
            text-align: center;
            padding: 40px 0;
            font-size: 12px;
            color: var(--muted);
            border-top: 1px solid var(--border);
        }

        @media (max-width: 900px) {
            .hero {
                grid-template-columns: 1fr;
            }

            nav ul {
                display: none;
            }
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(8px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            animation: fadeIn 0.3s ease;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal-container {
            background: linear-gradient(180deg, rgba(11, 14, 16, 0.98), rgba(9, 11, 13, 0.95));
            border: 1px solid var(--border);
            border-radius: 20px;
            width: min(1400px, 95vw);
            max-height: 95vh;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6), 0 0 100px rgba(151, 238, 251, 0.1);
            position: relative;
            animation: slideUp 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            flex-direction: column;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .modal-header {
            padding: 20px 30px;
            border-bottom: 1px solid var(--border);
            background: rgba(0, 0, 0, 0.4);
            flex-shrink: 0;
        }

        .modal-title-row {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            gap: 20px;
            margin-bottom: 12px;
        }

        .modal-title-section {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            flex: 1;
        }

        .modal-title {
            font-size: 20px;
            font-weight: 600;
            letter-spacing: 0.3px;
            color: var(--text);
            line-height: 1.3;
            margin-bottom: 8px;
        }

        .modal-meta-row {
            display: flex;
            align-items: center;
            gap: 16px;
            flex-wrap: wrap;
            font-size: 12px;
            color: var(--muted);
        }

        .modal-meta-item {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .modal-meta-label {
            color: var(--muted);
        }

        .modal-meta-value {
            color: var(--text);
            font-weight: 600;
        }

        .status-badge {
            padding: 4px 10px;
            border-radius: 999px;
            font-size: 10px;
            letter-spacing: 1.5px;
            text-transform: uppercase;
            font-weight: 600;
        }

        .status-badge.live {
            background: rgba(47, 227, 127, 0.2);
            color: var(--success);
            border: 1px solid var(--success);
        }

        .status-badge.ended {
            background: rgba(255, 77, 77, 0.2);
            color: var(--danger);
            border: 1px solid var(--danger);
        }

        .modal-badge {
            background: var(--chip);
            border: 1px solid rgba(151, 238, 251, 0.3);
            color: var(--accent);
            padding: 4px 10px;
            border-radius: 999px;
            font-size: 10px;
            letter-spacing: 1.5px;
            text-transform: uppercase;
        }

        .modal-close {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            border: 1px solid var(--border);
            background: rgba(255, 255, 255, 0.03);
            color: var(--muted);
            font-size: 24px;
            cursor: pointer;
            display: grid;
            place-items: center;
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            background: rgba(255, 77, 77, 0.2);
            border-color: var(--danger);
            color: var(--danger);
            transform: rotate(90deg);
        }

        .modal-body {
            display: grid;
            grid-template-columns: 1fr 380px;
            gap: 0;
            overflow: hidden;
            flex: 1;
        }

        .modal-chart-section {
            border-right: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .chart-controls {
            padding: 16px 20px;
            border-bottom: 1px solid var(--border);
            background: rgba(0, 0, 0, 0.3);
            display: flex;
            gap: 8px;
        }

        .timeframe-btn {
            padding: 6px 14px;
            border-radius: 6px;
            border: 1px solid var(--border);
            background: transparent;
            color: var(--muted);
            font-size: 11px;
            letter-spacing: 1px;
            text-transform: uppercase;
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: 600;
        }

        .timeframe-btn:hover {
            border-color: var(--accent);
            color: var(--accent);
        }

        .timeframe-btn.active {
            background: var(--accent);
            color: var(--bg);
            border-color: var(--accent);
        }

        .modal-chart-container {
            flex: 1;
            background: rgba(0, 0, 0, 0.5);
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .modal-chart-container iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        .chart-placeholder {
            text-align: center;
            color: var(--muted);
            padding: 40px;
        }

        .chart-placeholder-icon {
            font-size: 48px;
            margin-bottom: 16px;
            opacity: 0.3;
        }

        .modal-sidebar {
            background: rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
            overflow-y: auto;
            max-height: calc(95vh - 150px);
        }

        .sidebar-section {
            padding: 20px;
            border-bottom: 1px solid var(--border);
        }

        .sidebar-section:last-child {
            border-bottom: none;
        }

        .sidebar-title {
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: var(--muted);
            margin-bottom: 16px;
            font-weight: 600;
        }

        .outcome-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .outcome-item {
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 14px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.2s ease;
        }

        .outcome-item:hover {
            border-color: rgba(151, 238, 251, 0.4);
            background: rgba(0, 0, 0, 0.6);
        }

        .outcome-name {
            font-size: 13px;
            font-weight: 500;
            color: var(--text);
        }

        .outcome-price {
            font-size: 18px;
            font-weight: 700;
        }

        .outcome-price.yes {
            color: var(--success);
        }

        .outcome-price.no {
            color: #97eefb;
        }

        .trade-btn {
            width: 100%;
            padding: 14px;
            border-radius: 10px;
            border: none;
            background: linear-gradient(135deg, #97eefb, #6dd5e8);
            color: #050505;
            font-size: 13px;
            font-weight: 700;
            letter-spacing: 1px;
            text-transform: uppercase;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 12px;
        }

        .trade-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(151, 238, 251, 0.4);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .stat-box {
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 12px;
        }

        .stat-label {
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            color: var(--muted);
            margin-bottom: 6px;
        }

        .stat-value {
            font-size: 15px;
            font-weight: 700;
            color: var(--accent);
        }

        .chart-tabs {
            padding: 16px 20px;
            border-top: 1px solid var(--border);
            background: rgba(0, 0, 0, 0.3);
            display: flex;
            gap: 24px;
        }

        .chart-tab {
            font-size: 12px;
            letter-spacing: 1px;
            text-transform: uppercase;
            color: var(--muted);
            cursor: pointer;
            padding: 8px 0;
            border-bottom: 2px solid transparent;
            transition: all 0.2s ease;
            font-weight: 600;
        }

        .chart-tab:hover {
            color: var(--text);
        }

        .chart-tab.active {
            color: var(--accent);
            border-bottom-color: var(--accent);
        }

        .resolved-banner {
            background: linear-gradient(135deg, rgba(255, 77, 77, 0.2), rgba(255, 77, 77, 0.1));
            border: 1px solid var(--danger);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            margin-bottom: 16px;
        }

        .resolved-icon {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: rgba(255, 77, 77, 0.2);
            border: 2px solid var(--danger);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 12px;
            font-size: 24px;
            color: var(--danger);
        }

        .resolved-title {
            font-size: 16px;
            font-weight: 700;
            color: var(--text);
            margin-bottom: 6px;
        }

        .resolved-text {
            font-size: 13px;
            color: var(--muted);
        }

        .pm-card {
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .pm-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5), 0 0 30px rgba(151, 238, 251, 0.2);
            border-color: rgba(151, 238, 251, 0.3);
        }

        /* Category Navigation */
        .category-nav {
            margin-bottom: 24px;
            padding-bottom: 16px;
            border-bottom: 1px solid var(--border);
        }

        .category-list {
            display: flex;
            gap: 28px;
            overflow-x: auto;
            padding: 12px 0;
            scrollbar-width: none;
        }

        .category-list::-webkit-scrollbar {
            display: none;
        }

        .category-item {
            font-size: 13px;
            letter-spacing: 0.5px;
            color: var(--muted);
            cursor: pointer;
            transition: all 0.2s ease;
            white-space: nowrap;
            padding: 8px 0;
            border-bottom: 2px solid transparent;
            font-weight: 500;
            position: relative;
        }

        .category-item:hover {
            color: var(--text);
        }

        .category-item.active {
            color: var(--accent);
            border-bottom-color: var(--accent);
        }

        .category-item.trending::before {
            content: 'üìà';
            margin-right: 6px;
        }

        /* Tag Pills */
        .tag-container {
            margin-bottom: 24px;
        }

        .tag-list {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .tag-pill {
            padding: 8px 16px;
            border-radius: 999px;
            border: 1px solid var(--border);
            background: rgba(255, 255, 255, 0.03);
            color: var(--muted);
            font-size: 12px;
            letter-spacing: 1px;
            text-transform: uppercase;
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: 500;
        }

        .tag-pill:hover {
            border-color: var(--accent);
            color: var(--accent);
            background: rgba(151, 238, 251, 0.1);
        }

        .tag-pill.active {
            background: var(--accent);
            color: var(--bg);
            border-color: var(--accent);
        }

        /* Trading Section */
        .trading-section {
            padding: 80px 0;
            position: relative;
        }

        .trading-grid {
            display: grid;
            grid-template-columns: 1fr 1.2fr;
            gap: 60px;
            align-items: center;
        }

        .trading-content h2 {
            font-size: clamp(36px, 5vw, 56px);
            line-height: 1.1;
            margin-bottom: 24px;
            letter-spacing: 1px;
        }

        .trading-content h2 span {
            color: var(--accent);
            text-shadow: 0 0 30px rgba(151, 238, 251, 0.5);
        }

        .trading-content .subtitle {
            font-size: 16px;
            line-height: 1.7;
            color: var(--muted);
            margin-bottom: 32px;
            max-width: 520px;
        }

        .feature-list {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .feature-item {
            display: flex;
            align-items: center;
            gap: 14px;
            font-size: 15px;
            color: var(--text);
            animation: fadeInLeft 0.6s ease-out backwards;
        }

        .feature-item:nth-child(1) { animation-delay: 0.1s; }
        .feature-item:nth-child(2) { animation-delay: 0.2s; }
        .feature-item:nth-child(3) { animation-delay: 0.3s; }
        .feature-item:nth-child(4) { animation-delay: 0.4s; }

        @keyframes fadeInLeft {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .check-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: rgba(151, 238, 251, 0.1);
            border: 2px solid var(--accent);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            color: var(--accent);
            font-size: 14px;
            font-weight: bold;
        }

        .trading-demo {
            background: linear-gradient(180deg, rgba(11, 14, 16, 0.95), rgba(9, 11, 13, 0.9));
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 0;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            animation: slideInRight 0.8s ease-out backwards;
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .chart-header {
            padding: 20px 24px;
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: rgba(0, 0, 0, 0.4);
        }

        .chart-title {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 14px;
            color: var(--text);
            font-weight: 600;
        }

        .live-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--accent);
            box-shadow: 0 0 10px var(--accent);
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% {
                opacity: 1;
                transform: scale(1);
            }
            50% {
                opacity: 0.5;
                transform: scale(1.2);
            }
        }

        .chart-timeframes {
            display: flex;
            gap: 6px;
        }

        .tf-btn {
            padding: 4px 10px;
            border-radius: 4px;
            border: 1px solid var(--border);
            background: transparent;
            color: var(--muted);
            font-size: 11px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .tf-btn:hover {
            color: var(--text);
            border-color: var(--accent);
        }

        .tf-btn.active {
            background: var(--accent);
            color: var(--bg);
            border-color: var(--accent);
        }

        .chart-price {
            padding: 24px;
            background: rgba(0, 0, 0, 0.3);
        }

        .price-display {
            font-size: 42px;
            font-weight: 700;
            color: var(--text);
            margin-bottom: 8px;
        }

        .price-change {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            font-size: 16px;
            font-weight: 600;
        }

        .price-change.positive {
            color: var(--accent);
        }

        .price-change.negative {
            color: var(--text);
        }

        .chart-canvas {
            height: 220px;
            background: linear-gradient(180deg, rgba(151, 238, 251, 0.05), transparent);
            position: relative;
            overflow: hidden;
            padding: 20px;
        }

        .chart-line {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 100%;
            fill: none;
            stroke: var(--accent);
            stroke-width: 2;
            filter: drop-shadow(0 0 8px rgba(151, 238, 251, 0.5));
        }

        .chart-grid {
            position: absolute;
            inset: 0;
            display: grid;
            grid-template-rows: repeat(4, 1fr);
        }

        .grid-line {
            border-bottom: 1px solid rgba(255, 255, 255, 0.03);
        }

        .trading-panels {
            display: grid;
            grid-template-columns: 1fr 1fr;
            border-top: 1px solid var(--border);
        }

        .order-book,
        .trade-panel {
            padding: 20px;
        }

        .order-book {
            border-right: 1px solid var(--border);
        }

        .panel-header {
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            color: var(--muted);
            margin-bottom: 16px;
            font-weight: 600;
        }

        .order-row {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 10px;
            padding: 6px 0;
            font-size: 12px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.03);
        }

        .order-row:last-child {
            border-bottom: none;
        }

        .order-price {
            font-weight: 600;
        }

        .order-price.sell {
            color: var(--text);
        }

        .order-price.buy {
            color: var(--accent);
        }

        .order-size,
        .order-total {
            color: var(--muted);
            text-align: right;
        }

        .spread-indicator {
            padding: 10px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 6px;
            text-align: center;
            margin: 12px 0;
            font-size: 11px;
            color: var(--muted);
        }

        .trade-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 16px;
        }

        .trade-btn-yes,
        .trade-btn-no {
            padding: 12px;
            border-radius: 8px;
            border: none;
            font-size: 13px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .trade-btn-yes {
            background: rgba(151, 238, 251, 0.1);
            color: var(--accent);
            border: 1px solid var(--accent);
        }

        .trade-btn-yes:hover {
            background: var(--accent);
            color: var(--bg);
            transform: translateY(-2px);
        }

        .trade-btn-no {
            background: rgba(255, 255, 255, 0.05);
            color: var(--text);
            border: 1px solid var(--border);
        }

        .trade-btn-no:hover {
            background: var(--text);
            color: var(--bg);
            transform: translateY(-2px);
        }

        .amount-input {
            margin-bottom: 16px;
        }

        .amount-input label {
            display: block;
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--muted);
            margin-bottom: 8px;
        }

        .amount-value {
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 12px 16px;
            font-size: 18px;
            font-weight: 700;
            color: var(--text);
            margin-bottom: 10px;
        }

        .quick-amounts {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 6px;
        }

        .quick-amt {
            padding: 6px;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid var(--border);
            border-radius: 4px;
            font-size: 11px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .quick-amt:hover {
            background: rgba(151, 238, 251, 0.1);
            border-color: var(--accent);
        }

        .potential-return {
            padding: 12px;
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid var(--border);
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .potential-return label {
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--muted);
        }

        .potential-return .value {
            font-size: 16px;
            font-weight: 700;
            color: var(--accent);
        }

        .place-order-btn {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, var(--accent), var(--accent-strong));
            color: var(--bg);
            border: none;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .place-order-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(151, 238, 251, 0.4);
        }

        @media (max-width: 1024px) {
            .trading-grid {
                grid-template-columns: 1fr;
                gap: 40px;
            }

            .trading-panels {
                grid-template-columns: 1fr;
            }

            .order-book {
                border-right: none;
                border-bottom: 1px solid var(--border);
            }
        }

        /* VOLIX Signal Styles */
        .volix-signal-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 11px;
            font-weight: 600;
            letter-spacing: 1px;
            text-transform: uppercase;
            border: 1px solid;
        }

        .volix-signal-badge.strong-buy {
            background: rgba(0, 255, 136, 0.15);
            color: #00ff88;
            border-color: #00ff88;
        }

        .volix-signal-badge.buy {
            background: rgba(47, 227, 127, 0.15);
            color: #2fe37f;
            border-color: #2fe37f;
        }

        .volix-signal-badge.hold {
            background: rgba(151, 238, 251, 0.15);
            color: #97eefb;
            border-color: #97eefb;
        }

        .volix-signal-badge.sell {
            background: rgba(255, 176, 32, 0.15);
            color: #ffb020;
            border-color: #ffb020;
        }

        .volix-signal-badge.strong-sell {
            background: rgba(255, 77, 77, 0.15);
            color: #ff4d4d;
            border-color: #ff4d4d;
        }

        .confidence-bar {
            display: flex;
            align-items: center;
            gap: 12px;
            margin: 8px 0;
            font-size: 11px;
        }

        .confidence-bar-track {
            flex: 1;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            overflow: hidden;
        }

        .confidence-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, #97eefb, #67d7e7);
            transition: width 0.3s ease;
            border-radius: 2px;
        }

        .confidence-value {
            font-weight: 700;
            color: #97eefb;
            min-width: 40px;
            text-align: right;
        }
    </style>
</head>
<body>
    <div class="grid-bg"></div>
    
    <!-- Modal for Chart Detail -->
    <div id="chartModal" class="modal-overlay">
        <div class="modal-container">
            <div class="modal-header">
                <div class="modal-title-row">
                    <div style="flex: 1;">
                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 8px;">
                            <img id="modalIcon" class="pm-icon" src="" alt="" style="display:none; width: 40px; height: 40px;" />
                            <div class="modal-title" id="modalTitle">Market Details</div>
                        </div>
                        <div class="modal-meta-row">
                            <div class="modal-meta-item">
                                <span class="modal-meta-label">Vol</span>
                                <span class="modal-meta-value" id="modalVolume">$0</span>
                            </div>
                            <div class="modal-meta-item">
                                <span class="modal-meta-label">24h</span>
                                <span class="modal-meta-value" id="modal24h">$0.00</span>
                            </div>
                            <div class="modal-meta-item">
                                <span class="modal-meta-label">OI</span>
                                <span class="modal-meta-value" id="modalOI">$0.00</span>
                            </div>
                            <span class="status-badge live" id="modalStatus">‚óè Live</span>
                        </div>
                    </div>
                    <button class="modal-close" onclick="closeChartModal()">√ó</button>
                </div>
            </div>
            <div class="modal-body">
                <div class="modal-chart-section">
                    <div class="chart-controls">
                        <button class="timeframe-btn">1M</button>
                        <button class="timeframe-btn">1H</button>
                        <button class="timeframe-btn">6H</button>
                        <button class="timeframe-btn active">1D</button>
                        <button class="timeframe-btn">1W</button>
                    </div>
                    <div class="modal-chart-container">
                    </div>
                    <div class="chart-tabs">
                        <div class="chart-tab active">Positions</div>
                        <div class="chart-tab">Orders</div>
                        <div class="chart-tab">Activity</div>
                        <div class="chart-tab">Rules</div>
                        <div class="chart-tab">Similar Markets</div>
                        <div class="chart-tab">Comments</div>
                    </div>
                </div>
                <div class="modal-sidebar">
                    <div class="sidebar-section" id="resolvedSection" style="display: none;">
                        <div class="resolved-banner">
                            <div class="resolved-icon">‚úì</div>
                            <div class="resolved-title">Market Resolved</div>
                            <div class="resolved-text" id="resolvedText">This market has been resolved.</div>
                        </div>
                    </div>
                    <div class="sidebar-section">
                        <div class="sidebar-title">Market Outcomes</div>
                        <div class="outcome-list" id="outcomeList">
                            <!-- Outcomes will be injected here -->
                        </div>
                        <button class="trade-btn" onclick="showComingSoon()">
                            üìà Trade on VOLIX AI
                        </button>
                    </div>
                    <div class="sidebar-section">
                        <div class="sidebar-title">Market Stats</div>
                        <div class="stats-grid" id="statsGrid">
                            <!-- Stats will be injected here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <header>
        <div class="container nav">
            <div class="brand">
                <div class="brand-badge">
                    <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect width="40" height="40" rx="8" fill="#61eefb" fill-opacity="0.1" stroke="#61eefb" stroke-width="1"/>
                        <path d="M12 20L16 24L28 12" stroke="#61eefb" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <span>VOLIX AI</span>
            </div>
            <nav>
                <ul>
                    <li>THE PROBLEM</li>
                    <li>FEATURES</li>
                    <li>COMPARISON</li>
                    <li>FAQ</li>
                </ul>
            </nav>
            <div class="nav-right">
                <span><span class="status-dot"></span> SYSTEM: ONLINE</span>
                <button class="btn">START TRADING</button>
            </div>
        </div>
    </header>

    <main>
        <section class="hero" style="background: #0c0e10;">
            <div class="container">
                <div class="pill"><span class="status-dot"></span> SYSTEM ONLINE V2.4.0</div>
                <h1>THE MOST <span>PERFORMANT</span>PREDICTION MARKET TERMINAL</h1>
                <p>
                    Unified terminal for Polymarket and Kalshi with real-time data and seamless trading
                    <br />
                    <strong>No juggling accounts. No slow refreshes.</strong>
                </p>
            </div>
            <div class="container">
                <div class="terminal">
                    <div class="terminal-header">
                        <span>SECURE_OS</span>
                        <span>VOLIX_AI_V2.4</span>
                    </div>
                    <div class="terminal-lines">
                        <div><span>NETWORK_STATUS:</span> ONLINE</div>
                        <div><span>SEARCHING_ALPHA_STREAMS...</span></div>
                        <div>analyzing_market_1024 ... [OK]</div>
                        <div>analyzing_market_1025 ... [OK]</div>
                        <div>analyzing_market_1026 ... [OK]</div>
                        <div>analyzing_market_1027 ... [OK]</div>
                        <div>analyzing_market_1028 ... [OK]</div>
                        <div style="margin-top: 20px; color: var(--accent);">LIVE SIGNALS</div>
                        <div>BTC &gt; 100K &nbsp;&nbsp;&nbsp; 78%</div>
                        <div>ETH ETF &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 92%</div>
                        <div>MARCH CUT &nbsp;&nbsp;&nbsp; 58%</div>
                    </div>
                </div>
            </div>
        </section>

        <section id="problem" style="background: #0c0e10; padding: 80px 0;">
            <div class="container">
                <div class="section-title">
                    <div class="pill">THE PROBLEM</div>
                    <h2>WHY CHOOSE <span>VOLIX AI</span>?</h2>
                    <p>
                        Prediction markets are exploding. Billions in volume. Odds sharper than any poll. But the trading
                        experience hasn't caught up. <strong>The current setup is too slow, too scattered, and built for a desktop era.</strong>
                    </p>
                </div>
                <div class="compare">
                    <div class="compare-card">
                        <h3>THE OLD WAY</h3>
                        <p style="color: var(--muted); text-transform: uppercase; font-size: 11px; letter-spacing: 2px;">DESKTOP ERA</p>
                        <ul>
                            <li>Juggling multiple platform accounts</li>
                            <li>Slow refreshes, missed opportunities</li>
                            <li>Desktop-only, glued to laptop</li>
                        </ul>
                        <div style="margin-top: 24px; color: var(--danger); font-size: 12px; letter-spacing: 2px; text-transform: uppercase;">Result: Missed opportunities</div>
                    </div>
                    <div class="compare-card">
                        <h3>THE VOLIX WAY</h3>
                        <p style="color: var(--muted); text-transform: uppercase; font-size: 11px; letter-spacing: 2px;">FRICTIONLESS ERA</p>
                        <ul>
                            <li>One unified WebApps interface</li>
                            <li>12ms execution, real-time data</li>
                            <li>Trade anywhere, anytime</li>
                        </ul>
                        <div style="margin-top: 24px; color: var(--accent); font-size: 12px; letter-spacing: 2px; text-transform: uppercase;">Result: Trade ahead of the crowd</div>
                    </div>
                </div>
            </div>
        </section>

        <section id="features" style="background: #0c0e10; padding: 80px 0; position: relative; overflow: hidden;">
            <div class="container" style="position: relative; z-index: 1;">
                <div style="text-align: center; margin-bottom: 60px;">
                    <div style="display: inline-block; background: rgba(151, 238, 251, 0.1); border: 1px solid rgba(151, 238, 251, 0.3); border-radius: 24px; padding: 8px 16px; margin-bottom: 16px; font-size: 12px; letter-spacing: 2px; text-transform: uppercase; color: var(--accent);">CORE FEATURES</div>
                    <h2 style="font-size: 48px; margin: 24px 0; letter-spacing: -1px;">Platform Superpowers</h2>
                    <p style="font-size: 18px; color: var(--muted); max-width: 600px; margin: 0 auto;">Everything you need for professional prediction market trading in one unified platform</p>
                </div>

                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 24px; grid-auto-rows: auto;">
                    <!-- Real-time Data -->
                    <div style="background: rgba(12, 14, 16, 0.4); border: 1px solid rgba(151, 238, 251, 0.1); border-radius: 16px; padding: 32px; backdrop-filter: blur(10px); transition: all 0.3s ease; cursor: pointer; animation: slideInUp 0.6s ease-out 0.1s both;" 
                         onmouseover="this.style.transform='translateY(-8px)'; this.style.borderColor='rgba(151, 238, 251, 0.3)'; this.style.backgroundColor='rgba(12, 14, 16, 0.6)'"
                         onmouseout="this.style.transform='translateY(0)'; this.style.borderColor='rgba(151, 238, 251, 0.1)'; this.style.backgroundColor='rgba(12, 14, 16, 0.4)'">
                        <div style="width: 56px; height: 56px; background: #61eefb; border-radius: 12px; display: flex; align-items: center; justify-content: center; margin-bottom: 20px; position: relative; overflow: hidden;">
                            <div style="position: absolute; inset: 2px; background: rgba(12, 14, 16, 0.8); border-radius: 10px; display: flex; align-items: center; justify-content: center;">
                                <span style="width: 20px; height: 20px; border: 2px solid #61eefb; border-radius: 3px; position: relative;">
                                    <span style="position: absolute; width: 6px; height: 3px; background: #61eefb; top: 6px; left: 3px;"></span>
                                    <span style="position: absolute; width: 3px; height: 3px; background: #61eefb; top: 4px; right: 4px;"></span>
                                </span>
                            </div>
                        </div>
                        <h3 style="font-size: 20px; margin-bottom: 12px; letter-spacing: -0.5px;">Real-time Data</h3>
                        <p style="color: var(--muted); line-height: 1.6; font-size: 14px;">Live prices & orderbook updates stream instantly to your screen</p>
                    </div>

                    <!-- Fast Execution -->
                    <div style="background: rgba(12, 14, 16, 0.4); border: 1px solid rgba(151, 238, 251, 0.1); border-radius: 16px; padding: 32px; backdrop-filter: blur(10px); transition: all 0.3s ease; cursor: pointer; animation: slideInUp 0.6s ease-out 0.2s both;"
                         onmouseover="this.style.transform='translateY(-8px)'; this.style.borderColor='rgba(151, 238, 251, 0.3)'; this.style.backgroundColor='rgba(12, 14, 16, 0.6)'"
                         onmouseout="this.style.transform='translateY(0)'; this.style.borderColor='rgba(151, 238, 251, 0.1)'; this.style.backgroundColor='rgba(12, 14, 16, 0.4)'">
                        <div style="width: 56px; height: 56px; background: #61eefb; border-radius: 12px; display: flex; align-items: center; justify-content: center; margin-bottom: 20px; position: relative; overflow: hidden;">
                            <div style="position: absolute; inset: 2px; background: rgba(12, 14, 16, 0.8); border-radius: 10px; display: flex; align-items: center; justify-content: center;">
                                <span style="width: 20px; height: 3px; background: #61eefb;"></span>
                            </div>
                        </div>
                        <h3 style="font-size: 20px; margin-bottom: 12px; letter-spacing: -0.5px;">Fast Execution</h3>
                        <p style="color: var(--muted); line-height: 1.6; font-size: 14px;">12ms order execution speed for competitive advantage</p>
                    </div>

                    <!-- Portfolio Tracking -->
                    <div style="background: rgba(12, 14, 16, 0.4); border: 1px solid rgba(151, 238, 251, 0.1); border-radius: 16px; padding: 32px; backdrop-filter: blur(10px); transition: all 0.3s ease; cursor: pointer; animation: slideInUp 0.6s ease-out 0.3s both;"
                         onmouseover="this.style.transform='translateY(-8px)'; this.style.borderColor='rgba(151, 238, 251, 0.3)'; this.style.backgroundColor='rgba(12, 14, 16, 0.6)'"
                         onmouseout="this.style.transform='translateY(0)'; this.style.borderColor='rgba(151, 238, 251, 0.1)'; this.style.backgroundColor='rgba(12, 14, 16, 0.4)'">
                        <div style="width: 56px; height: 56px; background: #61eefb; border-radius: 12px; display: flex; align-items: center; justify-content: center; margin-bottom: 20px; position: relative; overflow: hidden;">
                            <div style="position: absolute; inset: 2px; background: rgba(12, 14, 16, 0.8); border-radius: 10px; display: flex; align-items: center; justify-content: center; flex-direction: column; gap: 2px;">
                                <span style="width: 12px; height: 2px; background: #61eefb;"></span>
                                <span style="width: 16px; height: 2px; background: #61eefb;"></span>
                                <span style="width: 10px; height: 2px; background: #61eefb;"></span>
                            </div>
                        </div>
                        <h3 style="font-size: 20px; margin-bottom: 12px; letter-spacing: -0.5px;">Portfolio Tracking</h3>
                        <p style="color: var(--muted); line-height: 1.6; font-size: 14px;">Monitor all positions, P&L, and risk metrics in one dashboard</p>
                    </div>

                    <!-- Market Discovery -->
                    <div style="background: rgba(12, 14, 16, 0.4); border: 1px solid rgba(151, 238, 251, 0.1); border-radius: 16px; padding: 32px; backdrop-filter: blur(10px); transition: all 0.3s ease; cursor: pointer; animation: slideInUp 0.6s ease-out 0.4s both;"
                         onmouseover="this.style.transform='translateY(-8px)'; this.style.borderColor='rgba(151, 238, 251, 0.3)'; this.style.backgroundColor='rgba(12, 14, 16, 0.6)'"
                         onmouseout="this.style.transform='translateY(0)'; this.style.borderColor='rgba(151, 238, 251, 0.1)'; this.style.backgroundColor='rgba(12, 14, 16, 0.4)'">
                        <div style="width: 56px; height: 56px; background: #61eefb; border-radius: 12px; display: flex; align-items: center; justify-content: center; margin-bottom: 20px; position: relative; overflow: hidden;">
                            <div style="position: absolute; inset: 2px; background: rgba(12, 14, 16, 0.8); border-radius: 10px; display: flex; align-items: center; justify-content: center;">
                                <span style="width: 18px; height: 18px; border: 2px solid #61eefb; border-radius: 50%; position: relative;">
                                    <span style="position: absolute; width: 2px; height: 2px; background: #61eefb; bottom: -4px; right: -4px;"></span>
                                </span>
                            </div>
                        </div>
                        <h3 style="font-size: 20px; margin-bottom: 12px; letter-spacing: -0.5px;">Market Discovery</h3>
                        <p style="color: var(--muted); line-height: 1.6; font-size: 14px;">Search, filter, and find prediction markets across all platforms</p>
                    </div>

                    <!-- Secure Wallets -->
                    <div style="background: rgba(12, 14, 16, 0.4); border: 1px solid rgba(151, 238, 251, 0.1); border-radius: 16px; padding: 32px; backdrop-filter: blur(10px); transition: all 0.3s ease; cursor: pointer; animation: slideInUp 0.6s ease-out 0.5s both;"
                         onmouseover="this.style.transform='translateY(-8px)'; this.style.borderColor='rgba(151, 238, 251, 0.3)'; this.style.backgroundColor='rgba(12, 14, 16, 0.6)'"
                         onmouseout="this.style.transform='translateY(0)'; this.style.borderColor='rgba(151, 238, 251, 0.1)'; this.style.backgroundColor='rgba(12, 14, 16, 0.4)'">
                        <div style="width: 56px; height: 56px; background: #61eefb; border-radius: 12px; display: flex; align-items: center; justify-content: center; margin-bottom: 20px; position: relative; overflow: hidden;">
                            <div style="position: absolute; inset: 2px; background: rgba(12, 14, 16, 0.8); border-radius: 10px; display: flex; align-items: center; justify-content: center;">
                                <span style="width: 16px; height: 20px; border: 2px solid #61eefb; border-radius: 3px; position: relative;">
                                    <span style="position: absolute; width: 8px; height: 8px; border: 1.5px solid #61eefb; border-radius: 50%; top: -6px; left: 50%; transform: translateX(-50%);"></span>
                                </span>
                            </div>
                        </div>
                        <h3 style="font-size: 20px; margin-bottom: 12px; letter-spacing: -0.5px;">Secure Wallets</h3>
                        <p style="color: var(--muted); line-height: 1.6; font-size: 14px;">AES-256 encrypted keys - your funds stay protected always</p>
                    </div>

                    <!-- Zero Fees -->
                    <div style="background: rgba(12, 14, 16, 0.4); border: 1px solid rgba(151, 238, 251, 0.1); border-radius: 16px; padding: 32px; backdrop-filter: blur(10px); transition: all 0.3s ease; cursor: pointer; animation: slideInUp 0.6s ease-out 0.6s both;"
                         onmouseover="this.style.transform='translateY(-8px)'; this.style.borderColor='rgba(151, 238, 251, 0.3)'; this.style.backgroundColor='rgba(12, 14, 16, 0.6)'"
                         onmouseout="this.style.transform='translateY(0)'; this.style.borderColor='rgba(151, 238, 251, 0.1)'; this.style.backgroundColor='rgba(12, 14, 16, 0.4)'">
                        <div style="width: 56px; height: 56px; background: #61eefb; border-radius: 12px; display: flex; align-items: center; justify-content: center; margin-bottom: 20px; position: relative; overflow: hidden;">
                            <div style="position: absolute; inset: 2px; background: rgba(12, 14, 16, 0.8); border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 18px; font-weight: bold; color: #61eefb;">0</div>
                        </div>
                        <h3 style="font-size: 20px; margin-bottom: 12px; letter-spacing: -0.5px;">0% Fees</h3>
                        <p style="color: var(--muted); line-height: 1.6; font-size: 14px;">Zero trading fees - keep 100% of your profits</p>
                    </div>
                </div>
            </div>
        </section>

        <style>
            @keyframes slideInUp {
                from {
                    opacity: 0;
                    transform: translateY(30px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }
        </style>

        <section class="trading-section" style="background: #0c0e10;">
            <div class="container">
                <div class="trading-grid">
                    <div class="trading-content">
                        <h2>Trade with <span>Precision</span></h2>
                        <p class="subtitle">
                            Professional AI-powered crypto price prediction tools at your fingertips. 
                            Our advanced machine learning models analyze market patterns, sentiment, and technical indicators 
                            to deliver accurate price forecasts with real-time execution.
                        </p>
                        <div class="feature-list">
                            <div class="feature-item">
                                <div class="check-icon">‚úì</div>
                                <span>Real-time price charts with AI prediction overlays</span>
                            </div>
                            <div class="feature-item">
                                <div class="check-icon">‚úì</div>
                                <span>Machine learning models trained on billions of data points</span>
                            </div>
                            <div class="feature-item">
                                <div class="check-icon">‚úì</div>
                                <span>One-click market and limit orders with 12ms execution</span>
                            </div>
                            <div class="feature-item">
                                <div class="check-icon">‚úì</div>
                                <span>Position tracking with P&L calculations and risk management</span>
                            </div>
                        </div>
                    </div>

                    <div class="trading-demo">
                        <div class="chart-header">
                            <div class="chart-title">
                                <div class="live-indicator"></div>
                                <span id="tradingPair">BTC/USD</span> Price Chart
                            </div>
                            <div class="chart-timeframes">
                                <button class="tf-btn" data-tf="1h">1H</button>
                                <button class="tf-btn active" data-tf="1d">1D</button>
                                <button class="tf-btn" data-tf="1w">1W</button>
                            </div>
                        </div>

                        <div class="chart-price">
                            <div class="price-display" id="btcPrice">$0.00</div>
                            <div class="price-change positive" id="btcChange">
                                <span id="changeArrow">‚ñ≤</span>
                                <span id="changePercent">0.0%</span>
                            </div>
                            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-top: 16px; font-size: 12px;">
                                <div>
                                    <div style="color: var(--muted); margin-bottom: 4px;">Volume</div>
                                    <div style="color: var(--text); font-weight: 600;" id="btcVolume">$0</div>
                                </div>
                                <div>
                                    <div style="color: var(--muted); margin-bottom: 4px;">24h High</div>
                                    <div style="color: var(--text); font-weight: 600;" id="btcHigh">$0.00</div>
                                </div>
                                <div>
                                    <div style="color: var(--muted); margin-bottom: 4px;">24h Low</div>
                                    <div style="color: var(--text); font-weight: 600;" id="btcLow">$0.00</div>
                                </div>
                            </div>
                        </div>

                        <div class="chart-canvas" id="chartCanvas">
                            <div class="chart-grid">
                                <div class="grid-line"></div>
                                <div class="grid-line"></div>
                                <div class="grid-line"></div>
                                <div class="grid-line"></div>
                            </div>
                            <svg width="100%" height="100%" id="priceChart">
                                <polyline class="chart-line" id="chartLine" points=""></polyline>
                            </svg>
                        </div>

                        <div class="trading-panels">
                            <div class="order-book">
                                <div class="panel-header">Order Book</div>
                                <div class="order-row" style="color: var(--muted); font-size: 10px; text-transform: uppercase; letter-spacing: 1px;">
                                    <div>Price</div>
                                    <div style="text-align: right;">Size</div>
                                    <div style="text-align: right;">Total</div>
                                </div>
                                <div id="sellOrders">
                                    <!-- Sell orders will be populated here -->
                                </div>
                                <div class="spread-indicator" id="spreadIndicator">
                                    Loading... <span style="color: var(--muted);">spread: $0</span>
                                </div>
                                <div id="buyOrders">
                                    <!-- Buy orders will be populated here -->
                                </div>
                            </div>

                            <div class="trade-panel">
                                <div class="panel-header">
                                    <span style="color: var(--accent);">PT</span> Trade Panel 
                                    <span style="float: right; color: var(--accent); font-size: 10px;">‚óè Live</span>
                                </div>
                                <div class="trade-buttons">
                                    <button class="trade-btn-yes" id="buyBtn">BUY <span id="buyPrice">$0</span></button>
                                    <button class="trade-btn-no" id="sellBtn">SELL <span id="sellPrice">$0</span></button>
                                </div>
                                <div class="amount-input">
                                    <label>Amount</label>
                                    <div class="amount-value" id="tradeAmount">$ 100.00</div>
                                    <div class="quick-amounts">
                                        <div class="quick-amt" onclick="setTradeAmount(10)">$10</div>
                                        <div class="quick-amt" onclick="setTradeAmount(50)">$50</div>
                                        <div class="quick-amt" onclick="setTradeAmount(100)">$100</div>
                                        <div class="quick-amt" onclick="setTradeAmount(500)">Max</div>
                                    </div>
                                </div>
                                <div class="potential-return">
                                    <label>Potential Return</label>
                                    <div class="value" id="potentialReturn">+$0.00</div>
                                </div>
                                <button class="place-order-btn" id="placeOrderBtn">Place Order</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="live" style="background: #0c0e10;">
            <div class="container">
                <div class="pm-header">
                    <div style="display: flex; align-items: center; gap: 24px; width: 100%;">
                        <h2 style="margin: 0;">Prediction Markets <span id="marketCount" style="color: var(--muted); font-size: 14px; font-weight: 400;"></span></h2>
                        <div style="display: flex; gap: 8px; border-bottom: 1px solid var(--border); padding-bottom: 0;">
                            <button class="market-tab active" data-market="polymarket" style="background: none; border: none; color: var(--accent); padding: 12px 16px; cursor: pointer; font-weight: 500; border-bottom: 2px solid var(--accent); font-size: 14px;">
                                Polymarket
                            </button>
                            <button class="market-tab" data-market="kalshi" style="background: none; border: none; color: var(--muted); padding: 12px 16px; cursor: pointer; font-weight: 500; border-bottom: 2px solid transparent; font-size: 14px;">
                                Kalshi
                            </button>
                            <button class="market-tab" data-market="combined" style="background: none; border: none; color: var(--muted); padding: 12px 16px; cursor: pointer; font-weight: 500; border-bottom: 2px solid transparent; font-size: 14px;">
                                Combined
                            </button>
                        </div>
                    </div>
                    <div class="pm-status" id="pm-status">SYNCING</div>
                </div>
                
                <!-- Category Navigation -->
                <div class="category-nav">
                    <div class="category-list" id="categoryList">
                        <div class="category-item trending active" data-category="all">Trending</div>
                        <div class="category-item" data-category="breaking">Breaking</div>
                        <div class="category-item" data-category="new">New</div>
                        <div class="category-item" data-category="politics">Politics</div>
                        <div class="category-item" data-category="sports">Sports</div>
                        <div class="category-item" data-category="crypto">Crypto</div>
                        <div class="category-item" data-category="finance">Finance</div>
                        <div class="category-item" data-category="geopolitics">Geopolitics</div>
                        <div class="category-item" data-category="earnings">Earnings</div>
                        <div class="category-item" data-category="tech">Tech</div>
                        <div class="category-item" data-category="culture">Culture</div>
                        <div class="category-item" data-category="world">World</div>
                        <div class="category-item" data-category="economy">Economy</div>
                        <div class="category-item" data-category="climate">Climate & Science</div>
                        <div class="category-item" data-category="elections">Elections</div>
                    </div>
                </div>

                <!-- Tag Filter -->
                <div class="tag-container">
                    <div class="tag-list" id="tagList">
                        <div class="tag-pill active" data-tag="all">All</div>
                        <div class="tag-pill" data-tag="trump">Trump</div>
                        <div class="tag-pill" data-tag="iran">Iran</div>
                        <div class="tag-pill" data-tag="nfl">NFL Playoffs</div>
                        <div class="tag-pill" data-tag="greenland">Greenland</div>
                        <div class="tag-pill" data-tag="portugal">Portugal Election</div>
                        <div class="tag-pill" data-tag="tariffs">Tariffs</div>
                        <div class="tag-pill" data-tag="fed">Fed</div>
                        <div class="tag-pill" data-tag="derivatives">Derivatives</div>
                        <div class="tag-pill" data-tag="venezuela">Venezuela</div>
                        <div class="tag-pill" data-tag="ukraine">Ukraine</div>
                        <div class="tag-pill" data-tag="oscars">Oscars</div>
                        <div class="tag-pill" data-tag="epstein">Epstein</div>
                        <div class="tag-pill" data-tag="tweet">Tweet Market</div>
                    </div>
                </div>

                <div id="pm-grid" class="pm-grid"></div>
                <div style="text-align: center; margin: 20px 0;" id="loadMoreContainer">
                    <button class="btn" onclick="loadMoreMarkets()" id="loadMoreBtn">LOAD MORE MARKETS</button>
                </div>
                <div class="live-markets">
                    <div>
                        <h2>Live Markets</h2>
                        <div class="live-chip"><span class="status-dot"></span> LIVE</div>
                    </div>
                   
                </div>
                <div id="market-grid" class="market-grid"></div>
                <p id="last-updated" style="margin-top: 20px; text-align: center; color: var(--muted); font-size: 12px;">
                    Last updated: --:--:-- ‚Ä¢ Refreshes every 5s
                </p>
            </div>
        </section>

        <section id="features" style="background: #0c0e10;">
            <div class="container">
                <div class="section-title">
                    <div class="pill">SYSTEM CAPABILITIES</div>
                    <h2>DOMINATE THE <span>MARKET</span></h2>
                </div>
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4>AI-POWERED SETUPS</h4>
                        <p>Surface profitable opportunities with AI that analyzes market sentiment, odds movements, and historical patterns in real-time.</p>
                        <p style="margin-top: 16px; color: var(--accent); font-size: 12px; text-transform: uppercase; letter-spacing: 2px;">Status: Active</p>
                    </div>
                    <div class="feature-card">
                        <h4>WHALE TRACKING</h4>
                        <p>Track whale movements and smart money flows. Know what the big players are betting on before the crowd catches on.</p>
                        <p style="margin-top: 16px; color: var(--accent); font-size: 12px; text-transform: uppercase; letter-spacing: 2px;">Status: Active</p>
                    </div>
                    <div class="feature-card">
                        <h4>COPY TRADING</h4>
                        <p>Mirror top-performing wallets and follow whales in real-time with our high-performance Rust-based engine.</p>
                        <p style="margin-top: 16px; color: var(--accent); font-size: 12px; text-transform: uppercase; letter-spacing: 2px;">Status: Active</p>
                    </div>
                    <div class="feature-card">
                        <h4>FARMER MODULE</h4>
                        <p>0% fees + boosted activity = higher eligibility with reduced downside risk. Optimize your yield automatically.</p>
                        <p style="margin-top: 16px; color: var(--accent); font-size: 12px; text-transform: uppercase; letter-spacing: 2px;">Status: Active</p>
                    </div>
                    <div class="feature-card">
                        <h4>REAL-TIME MONITORING</h4>
                        <p>Monitor Polymarket events and wallets with real-time notifications so you never miss a move.</p>
                        <p style="margin-top: 16px; color: var(--accent); font-size: 12px; text-transform: uppercase; letter-spacing: 2px;">Status: Active</p>
                    </div>
                    <div class="feature-card">
                        <h4>AUTOMATED STRATEGIES</h4>
                        <p>Build and test your own AI-powered automated strategies. Self-sovereign finance with autonomous control.</p>
                        <p style="margin-top: 16px; color: var(--accent); font-size: 12px; text-transform: uppercase; letter-spacing: 2px;">Status: Active</p>
                    </div>
                    <div class="feature-card">
                        <h4>UNIFIED INTERFACE</h4>
                        <p>Trade Polymarket, Kalshi, and more from one unified Telegram bot. No more juggling tabs or accounts.</p>
                        <p style="margin-top: 16px; color: var(--accent); font-size: 12px; text-transform: uppercase; letter-spacing: 2px;">Status: Active</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="comparison" style="background: #0c0e10;">
            <div class="container">
                <div class="section-title">
                    <div class="pill">MARKET ADVANTAGE</div>
                    <h2>VOLIX VS <span>RETAIL</span></h2>
                    <p>
                        Prediction markets are exploding with billions in volume, yet the trading experience is still built for a desktop era.
                        Too slow, too scattered. By the time you've switched tabs, the market has moved.
                    </p>
                    <p style="color: var(--accent); margin-top: 10px; text-transform: uppercase; letter-spacing: 2px; font-size: 12px;">
                        VOLIX AI FIXES THE FRICTION
                    </p>
                </div>
                <div class="feature-card" style="padding: 0; overflow: hidden;">
                    <table style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr style="background: rgba(255,255,255,0.03); text-transform: uppercase; letter-spacing: 2px; font-size: 12px;">
                                <th style="padding: 18px; border-right: 1px solid var(--border);">System Feature</th>
                                <th style="padding: 18px; border-right: 1px solid var(--border); color: var(--accent);">VOLIX AI</th>
                                <th style="padding: 18px;">Retail Interface</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="padding: 18px; border-top: 1px solid var(--border);">Execution Speed</td>
                                <td style="padding: 18px; border-top: 1px solid var(--border); color: var(--accent);">12ms</td>
                                <td style="padding: 18px; border-top: 1px solid var(--border); color: var(--muted);">Minutes</td>
                            </tr>
                            <tr>
                                <td style="padding: 18px; border-top: 1px solid var(--border);">Profitable Users</td>
                                <td style="padding: 18px; border-top: 1px solid var(--border); color: var(--accent);">14.8%</td>
                                <td style="padding: 18px; border-top: 1px solid var(--border); color: var(--muted);">3-5%</td>
                            </tr>
                            <tr>
                                <td style="padding: 18px; border-top: 1px solid var(--border);">Multi-Platform (Polymarket + Kalshi)</td>
                                <td style="padding: 18px; border-top: 1px solid var(--border); color: var(--accent);">‚úì</td>
                                <td style="padding: 18px; border-top: 1px solid var(--border); color: var(--muted);">‚úï</td>
                            </tr>
                            <tr>
                                <td style="padding: 18px; border-top: 1px solid var(--border);">Farmer Module (0% Fees)</td>
                                <td style="padding: 18px; border-top: 1px solid var(--border); color: var(--accent);">‚úì</td>
                                <td style="padding: 18px; border-top: 1px solid var(--border); color: var(--muted);">‚úï</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <section style="background: #0c0e10;">
            <div class="container">
                <div class="stats-row">
                    <div class="stat-item">
                        <h3>$4.2B+</h3>
                        <p>Volume Tracked</p>
                    </div>
                    <div class="stat-item">
                        <h3>14.8%</h3>
                        <p>Profitable Traders</p>
                    </div>
                    <div class="stat-item">
                        <h3>2</h3>
                        <p>Platforms</p>
                    </div>
                    <div class="stat-item">
                        <h3>12ms</h3>
                        <p>Latency</p>
                    </div>
                </div>
            </div>
        </section>

        <section style="background: #0c0e10;">
            <div class="container cta">
                <div class="pill">READY FOR DEPLOYMENT</div>
                <h2>START <span style="color: var(--accent);">TRADING</span></h2>
                <p>Join the traders finding alpha in prediction markets. <strong>No KYC. No Downloads. Just Telegram.</strong></p>
                <button class="btn">OPEN IN TELEGRAM</button>
            </div>
        </section>
    </main>

    <footer>
        ¬© 2026 VOLIX AI ‚Ä¢ System Online
    </footer>

    <script src="volix-prediction-engine.js"></script>
    <script>
        const API_URL = (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1')
            ? window.location.origin
            : '';
        const UPDATE_INTERVAL = 5000;
        const POLYMARKET_ENDPOINT = `${API_URL}/api/polymarket`;
        const KALSHI_ENDPOINT = `${API_URL}/api/kalshi`;

        const marketGrid = document.getElementById('market-grid');
        const lastUpdated = document.getElementById('last-updated');
        const pmGrid = document.getElementById('pm-grid');
        const pmStatus = document.getElementById('pm-status');
        const marketCount = document.getElementById('marketCount');
        const loadMoreContainer = document.getElementById('loadMoreContainer');
        
        let allMarkets = [];
        let kalshiMarkets = [];
        let currentMarketTab = 'polymarket';
        let displayedCount = 10;
        let activeCategory = 'all';
        let activeTag = 'all';
        
        // Initialize VOLIX Prediction Engine
        const volixEngine = new VOLIXPredictionEngine();

        const formatPrice = (value) => {
            if (value >= 1000) return value.toFixed(2);
            if (value >= 1) return value.toFixed(4);
            return value.toFixed(6);
        };

        const renderMarkets = (predictions) => {
            marketGrid.innerHTML = predictions.map((pred) => {
                const priceChange = Number(pred.change24h || 0);
                const priceChangeClass = priceChange >= 0 ? 'positive' : 'negative';
                return `
                    <div class="market-card">
                        <div class="market-header">
                            <div>
                                <div class="market-title">${pred.pair}</div>
                                <div class="market-badges">
                                    <span>${pred.signal || 'SIGNAL'}</span>
                                    <span class="chance">${pred.confidence || 0}%</span>
                                </div>
                            </div>
                            <div style="text-align: right;">
                                <div class="market-price">$${formatPrice(pred.currentPrice)}</div>
                                <div class="price-change ${priceChangeClass}">${priceChange > 0 ? '+' : ''}${priceChange.toFixed(2)}%</div>
                            </div>
                        </div>
                        <div class="market-stats">
                            <div class="market-stat">Entry: $${Number(pred.entry || 0).toFixed(4)}</div>
                            <div class="market-stat">Stop Loss: $${Number(pred.stoploss || 0).toFixed(4)}</div>
                            <div class="market-stat">TP1: $${Number(pred.takeProfitLevels?.tp1?.price || 0).toFixed(4)}</div>
                            <div class="market-stat">TP2: $${Number(pred.takeProfitLevels?.tp2?.price || 0).toFixed(4)}</div>
                            <div class="market-stat">TP3: $${Number(pred.takeProfitLevels?.tp3?.price || 0).toFixed(4)}</div>
                            <div class="market-stat">R/R: ${pred.riskReward || 0}:1</div>
                            <div class="market-stat">RSI: ${pred.technicalIndicators?.rsi?.toFixed(2) ?? '‚Äî'}</div>
                            <div class="market-stat">Momentum: ${pred.technicalIndicators?.momentum?.toFixed(3) ?? '‚Äî'}</div>
                            <div class="market-stat">Volatility: ${pred.technicalIndicators?.volatility?.toFixed(2) ?? '‚Äî'}%</div>
                            <div class="market-stat">Source: ${pred.source?.toUpperCase() || '‚Äî'}</div>
                        </div>
                    </div>
                `;
            }).join('');
        };

        const fetchMarkets = async () => {
            try {
                const response = await fetch(`${API_URL}/api/predictions`, { cache: 'no-store' });
                if (!response.ok) throw new Error('API error');
                const data = await response.json();
                const predictions = Array.isArray(data) ? data.slice(0, 8) : [data];
                renderMarkets(predictions);
                lastUpdated.textContent = `Last updated: ${new Date().toLocaleTimeString()} ‚Ä¢ Refreshes every 5s`;
            } catch {
                marketGrid.innerHTML = '<div class="market-card">Live markets unavailable.</div>';
            }
        };

        const parseArray = (value) => {
            if (Array.isArray(value)) return value;
            try {
                return JSON.parse(value || '[]');
            } catch {
                return [];
            }
        };

        const renderPolymarket = (markets) => {
            // Store all markets globally
            allMarkets = markets;
            
            // Process predictions with VOLIX Engine
            volixEngine.initialize(markets);
            const predictions = volixEngine.processAllMarkets();
            
            console.log('renderPolymarket called with', markets.length, 'markets');
            console.log('VOLIX predictions generated:', predictions.length);
            
            // Filter markets based on active category and tag
            let filteredMarkets = filterMarkets(markets);
            
            console.log('After filtering:', filteredMarkets.length, 'markets');
            
            // Show markets up to displayedCount
            const displayMarkets = filteredMarkets.slice(0, displayedCount);
            
            console.log('Display markets:', displayMarkets.length, 'out of', filteredMarkets.length);
            
            if (displayMarkets.length === 0) {
                pmGrid.innerHTML = '<div style="grid-column: 1/-1; text-align: center; padding: 40px; color: var(--muted);">No markets found for this filter</div>';
                window.polymarketData = [];
                marketCount.textContent = '';
                loadMoreContainer.style.display = 'none';
                return;
            }
            
            // Update market count
            marketCount.textContent = `(Showing ${displayMarkets.length} of ${filteredMarkets.length})`;
            
            // Show/hide Load More button
            if (displayMarkets.length < filteredMarkets.length) {
                loadMoreContainer.style.display = 'block';
            } else {
                loadMoreContainer.style.display = 'none';
            }
            
            pmGrid.innerHTML = displayMarkets.map((m, index) => {
                const outcomes = parseArray(m.outcomes);
                const prices = parseArray(m.outcomePrices).map((p) => Number(p) || 0);
                
                // Get corresponding VOLIX prediction
                const volix = predictions.find(p => 
                    (p.question && m.question && p.question.toLowerCase().includes(m.question.substring(0, 30).toLowerCase())) ||
                    (p.marketId && p.marketId === m.slug)
                );
                
                // Default prediction if not found
                const prediction = volix || {
                    signal: 'HOLD',
                    confidence: 50,
                    recommendation: 'NEUTRAL',
                    yesProbability: 0.5,
                    riskLevel: 'MEDIUM'
                };
                
                // Signal color mapping
                const signalColors = {
                    'BUY_YES': '#2fe37f',
                    'BUY_NO': '#ff4d4d',
                    'STRONG_BUY': '#00ff88',
                    'HOLD': '#97eefb'
                };
                
                const recommendationColors = {
                    'STRONG_BUY': '#00ff88',
                    'BUY': '#2fe37f',
                    'HOLD': '#97eefb',
                    'SELL': '#ffb020',
                    'STRONG_SELL': '#ff4d4d',
                    'NEUTRAL': '#9da3aa'
                };
                
                const signalColor = signalColors[prediction.signal] || '#97eefb';
                const recColor = recommendationColors[prediction.recommendation] || '#9da3aa';
                
                const outcomeRows = outcomes.slice(0, 2).map((o, idx) => {
                    const pct = Math.round((prices[idx] || 0) * 100);
                    const badgeClass = idx === 0 ? 'yes' : 'no';
                    return `
                        <div class="pm-outcome">
                            <span>${o}</span>
                            <span class="${badgeClass}">${pct}%</span>
                        </div>
                    `;
                }).join('');

                return `
                    <div class="pm-card" onclick="openChartModal(${index}, event)">
                        <div class="pm-card-header">
                            <img class="pm-icon" src="${m.icon || m.image || ''}" alt="" onerror="this.style.display='none'" />
                            <div class="pm-title">${m.question || m.title || m.slug || 'Unknown market'}</div>
                        </div>
                        <div class="pm-outcomes">${outcomeRows}</div>
                        
                        <!-- VOLIX AI Signal Badge -->
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 12px;">
                            <div style="background: rgba(${hexToRgb(signalColor)}, 0.15); border: 1px solid ${signalColor}; border-radius: 8px; padding: 10px; text-align: center; font-size: 11px; font-weight: 600; color: ${signalColor}; letter-spacing: 1px; text-transform: uppercase;">
                                ${prediction.signal}
                            </div>
                            <div style="background: rgba(${hexToRgb(recColor)}, 0.15); border: 1px solid ${recColor}; border-radius: 8px; padding: 10px; text-align: center; font-size: 11px; font-weight: 600; color: ${recColor}; letter-spacing: 1px; text-transform: uppercase;">
                                ${prediction.recommendation}
                            </div>
                        </div>
                        
                        <!-- Confidence Bar -->
                        <div style="margin-bottom: 12px;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 6px;">
                                <span style="font-size: 10px; color: var(--muted); letter-spacing: 1px; text-transform: uppercase;">VOLIX Confidence</span>
                                <span style="font-size: 12px; font-weight: 700; color: #97eefb;">${Math.round(prediction.confidence)}%</span>
                            </div>
                            <div style="width: 100%; height: 4px; background: rgba(255,255,255,0.1); border-radius: 2px; overflow: hidden;">
                                <div style="width: ${prediction.confidence}%; height: 100%; background: linear-gradient(90deg, #97eefb, #67d7e7); transition: width 0.3s ease;"></div>
                            </div>
                        </div>
                        
                        <!-- Risk Level & Probability -->
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 12px; font-size: 11px;">
                            <div style="background: rgba(255,255,255,0.04); border: 1px solid var(--border); border-radius: 6px; padding: 8px; text-align: center;">
                                <div style="color: var(--muted); margin-bottom: 2px;">Risk</div>
                                <div style="color: ${prediction.riskLevel === 'LOW' ? '#2fe37f' : prediction.riskLevel === 'HIGH' ? '#ff4d4d' : '#ffb020'}; font-weight: 600;">${prediction.riskLevel}</div>
                            </div>
                            <div style="background: rgba(255,255,255,0.04); border: 1px solid var(--border); border-radius: 6px; padding: 8px; text-align: center;">
                                <div style="color: var(--muted); margin-bottom: 2px;">YES Prob</div>
                                <div style="color: #97eefb; font-weight: 600;">${Math.round(prediction.yesProbability * 100)}%</div>
                            </div>
                        </div>
                        
                        <div class="pm-meta">
                            <span>$${Number(m.volumeNum ?? m.volume ?? 0).toLocaleString()} Vol.</span>
                            <span>${m.category || 'General'}</span>
                        </div>
                    </div>
                `;
            }).join('');
            
            // Store displayed markets data globally for modal access
            window.polymarketData = displayMarkets;
        };
        
        // Helper function to convert hex to RGB for transparency
        function hexToRgb(hex) {
            const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
            return result ? `${parseInt(result[1], 16)}, ${parseInt(result[2], 16)}, ${parseInt(result[3], 16)}` : '151, 238, 251';
        }

        function filterMarkets(markets) {
            let filtered = [...markets];
            
            console.log('Filtering with activeCategory:', activeCategory, 'activeTag:', activeTag, 'Total markets:', markets.length);
            
            // Define keyword mappings for categories
            const categoryKeywords = {
                'sports': ['nfl', 'nba', 'basketball', 'football', 'player', 'draft', 'playoffs', 'champion', 'mvp', 'clutch', 'comeback', 'season', 'game', 'win', 'playoff'],
                'politics': ['trump', 'biden', 'presidential', 'election', 'governor', 'senate', 'congress', 'impeach', 'veto', 'vote', 'democrat', 'republican', 'candidate'],
                'crypto': ['bitcoin', 'ethereum', 'eth', 'btc', 'crypto', 'blockchain', 'token', 'coin', 'defi', 'nft', 'web3'],
                'finance': ['inflation', 'gdp', 'treasury', 'fed', 'rate', 'interest', 'dollar', 'stock', 'market', 'economic', 'bank'],
                'tech': ['ai', 'technology', 'software', 'startup', 'innovation', 'computer', 'internet', 'digital', 'app'],
                'world': ['iran', 'russia', 'china', 'ukraine', 'nato', 'conflict', 'war', 'peace', 'treaty', 'country', 'international'],
                'geopolitics': ['iran', 'russia', 'china', 'greenland', 'trade', 'tariff', 'border', 'conflict', 'diplomatic'],
                'culture': ['oscars', 'award', 'movie', 'music', 'entertainment', 'celebrity', 'epstein', 'tweet'],
                'earnings': ['earnings', 'revenue', 'profit', 'company', 'startup', 'ipo', 'business'],
                'climate': ['climate', 'temperature', 'emissions', 'renewable', 'green', 'environment'],
                'breaking': ['breaking', 'urgent', 'latest', 'news'],
                'new': ['new', 'recent']
            };
            
            // Filter by category - only if not "all" or "trending"
            if (activeCategory && activeCategory !== 'all' && activeCategory !== 'trending') {
                filtered = filtered.filter(m => {
                    const question = (m.question || m.title || '').toLowerCase();
                    const description = (m.description || '').toLowerCase();
                    const combined = question + ' ' + description;
                    
                    // Get keywords for this category
                    const keywords = categoryKeywords[activeCategory] || [activeCategory];
                    
                    // Check if any keyword matches
                    return keywords.some(keyword => combined.includes(keyword));
                });
            }
            
            // Filter by tag - only if not "all"
            if (activeTag && activeTag !== 'all') {
                filtered = filtered.filter(m => {
                    const question = (m.question || m.title || '').toLowerCase();
                    const description = (m.description || '').toLowerCase();
                    const combined = question + ' ' + description;
                    const activeTagLower = activeTag.toLowerCase();
                    
                    // Direct keyword match
                    return combined.includes(activeTagLower);
                });
            }
            
            console.log('Filtered result count:', filtered.length, 'from', markets.length);
            return filtered;
        }

        // Load More function
        function loadMoreMarkets() {
            displayedCount += 12; // Add 12 more markets each time
            renderPolymarket(allMarkets);
        }

        const fetchPolymarketTerminal = async () => {
            try {
                pmStatus.textContent = 'SYNCING';
                const resp = await fetch(POLYMARKET_ENDPOINT, { cache: 'no-store' });
                const text = await resp.text();
                let data = { markets: [] };
                try {
                    data = JSON.parse(text);
                } catch {
                    data = { markets: [] };
                }
                const markets = Array.isArray(data) ? data : (data?.markets || []);
                if (currentMarketTab === 'polymarket' || currentMarketTab === 'combined') {
                    renderPolymarket(markets);
                }
                pmStatus.textContent = markets.length ? 'ONLINE' : 'STANDBY';
            } catch {
                if (currentMarketTab === 'polymarket' || currentMarketTab === 'combined') {
                    renderPolymarket([]);
                }
                pmStatus.textContent = 'STANDBY';
            }
        };

        const renderKalshi = (markets) => {
            // Store all kalshi markets globally
            kalshiMarkets = markets;
            
            console.log('renderKalshi called with', markets.length, 'markets');
            
            // Filter markets based on active category and tag
            let filteredMarkets = filterMarkets(markets);
            
            console.log('After filtering:', filteredMarkets.length, 'markets');
            
            // Show markets up to displayedCount
            const displayMarkets = filteredMarkets.slice(0, displayedCount);
            
            console.log('Display markets:', displayMarkets.length, 'out of', filteredMarkets.length);
            
            if (displayMarkets.length === 0) {
                pmGrid.innerHTML = '<div style="grid-column: 1/-1; text-align: center; padding: 40px; color: var(--muted);">No Kalshi markets found</div>';
                marketCount.textContent = '';
                loadMoreContainer.style.display = 'none';
                return;
            }
            
            // Update market count
            marketCount.textContent = `(Showing ${displayMarkets.length} of ${filteredMarkets.length})`;
            
            // Show/hide Load More button
            if (displayMarkets.length < filteredMarkets.length) {
                loadMoreContainer.style.display = 'block';
            } else {
                loadMoreContainer.style.display = 'none';
            }
            
            // Use requestAnimationFrame for faster rendering
            const html = displayMarkets.map((m, index) => {
                const priceYes = m.outcomePrices?.[0] ?? 0.5;
                const priceNo = m.outcomePrices?.[1] ?? 0.5;
                
                // Generate VOLIX-style signals for Kalshi markets
                const confidence = Math.floor(45 + (Math.random() * 45)); // 45-90%
                const yesProbability = priceYes;
                const signal = priceYes > 0.65 ? 'BUY_YES' : priceYes < 0.35 ? 'BUY_NO' : 'HOLD';
                const recommendation = confidence > 75 ? (priceYes > 0.5 ? 'BUY' : 'SELL') : 'NEUTRAL';
                
                // Signal color mapping
                const signalColors = {
                    'BUY_YES': '#2fe37f',
                    'BUY_NO': '#ff4d4d',
                    'HOLD': '#97eefb'
                };
                
                const recommendationColors = {
                    'BUY': '#2fe37f',
                    'SELL': '#ff4d4d',
                    'NEUTRAL': '#97eefb'
                };
                
                const signalColor = signalColors[signal] || '#97eefb';
                const recColor = recommendationColors[recommendation] || '#97eefb';
                
                return `
                    <div class="pm-card" onclick="openChartModal(${index}, event)" style="cursor: pointer;">
                        <div class="pm-card-header">
                            <div class="pm-title">${m.title}</div>
                        </div>
                        
                        <!-- Outcomes Grid -->
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 12px 0;">
                            <div class="pm-outcome">
                                <span>YES</span>
                                <span class="yes">${(priceYes * 100).toFixed(0)}¬¢</span>
                            </div>
                            <div class="pm-outcome">
                                <span>NO</span>
                                <span class="no">${(priceNo * 100).toFixed(0)}¬¢</span>
                            </div>
                        </div>
                        
                        <!-- VOLIX AI Signal Badge -->
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 12px;">
                            <div style="background: rgba(${hexToRgb(signalColor)}, 0.15); border: 1px solid ${signalColor}; border-radius: 8px; padding: 10px; text-align: center; font-size: 11px; font-weight: 600; color: ${signalColor}; letter-spacing: 1px; text-transform: uppercase;">
                                ${signal}
                            </div>
                            <div style="background: rgba(${hexToRgb(recColor)}, 0.15); border: 1px solid ${recColor}; border-radius: 8px; padding: 10px; text-align: center; font-size: 11px; font-weight: 600; color: ${recColor}; letter-spacing: 1px; text-transform: uppercase;">
                                ${recommendation}
                            </div>
                        </div>
                        
                        <!-- Confidence Bar -->
                        <div style="margin-bottom: 12px;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 6px;">
                                <span style="font-size: 10px; color: var(--muted); letter-spacing: 1px; text-transform: uppercase;">VOLIX Confidence</span>
                                <span style="font-size: 12px; font-weight: 700; color: #97eefb;">${confidence}%</span>
                            </div>
                            <div style="width: 100%; height: 4px; background: rgba(255,255,255,0.1); border-radius: 2px; overflow: hidden;">
                                <div style="width: ${confidence}%; height: 100%; background: linear-gradient(90deg, #97eefb, #67d7e7); transition: width 0.3s ease;"></div>
                            </div>
                        </div>
                        
                        <!-- Volume & Stats -->
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 12px; font-size: 11px;">
                            <div style="background: rgba(255,255,255,0.04); border: 1px solid var(--border); border-radius: 6px; padding: 8px; text-align: center;">
                                <div style="color: var(--muted); margin-bottom: 2px;">Volume</div>
                                <div style="color: #97eefb; font-weight: 600;">$${(m.volume / 1000000).toFixed(1)}M</div>
                            </div>
                            <div style="background: rgba(255,255,255,0.04); border: 1px solid var(--border); border-radius: 6px; padding: 8px; text-align: center;">
                                <div style="color: var(--muted); margin-bottom: 2px;">YES Prob</div>
                                <div style="color: #97eefb; font-weight: 600;">${Math.round(yesProbability * 100)}%</div>
                            </div>
                        </div>
                        
                        <div class="pm-meta">
                            <span>Kalshi ‚Ä¢ ${m.category || 'Finance'}</span>
                            <span>${new Date(m.endDate).toLocaleDateString()}</span>
                        </div>
                    </div>
                `;
            }).join('');
            
            // Batch DOM update
            pmGrid.innerHTML = html;
            
            window.kalshiMarketData = displayMarkets;
        };

        const fetchKalshiTerminal = async () => {
            try {
                if (currentMarketTab === 'kalshi' || currentMarketTab === 'combined') {
                    pmStatus.textContent = 'SYNCING';
                }
                
                // Use faster abort controller for timeout
                const controller = new AbortController();
                const timeoutId = setTimeout(() => controller.abort(), 8000);
                
                const resp = await fetch(KALSHI_ENDPOINT, { 
                    cache: 'no-store',
                    signal: controller.signal
                });
                clearTimeout(timeoutId);
                
                const text = await resp.text();
                let data = [];
                try {
                    data = JSON.parse(text);
                } catch {
                    data = [];
                }
                const markets = Array.isArray(data) ? data : [];
                
                // Only render if on kalshi/combined tab
                if (currentMarketTab === 'kalshi') {
                    renderKalshi(markets);
                } else if (currentMarketTab === 'combined') {
                    const combined = [...allMarkets, ...markets];
                    renderPolymarket(combined);
                    marketCount.textContent = `(${combined.length} total markets)`;
                }
                
                if (currentMarketTab === 'kalshi' || currentMarketTab === 'combined') {
                    pmStatus.textContent = markets.length ? 'ONLINE' : 'STANDBY';
                }
            } catch (error) {
                if (currentMarketTab === 'kalshi' || currentMarketTab === 'combined') {
                    if (error.name !== 'AbortError') {
                        renderKalshi([]);
                        pmStatus.textContent = 'STANDBY';
                    }
                }
            }
        };

        const switchMarketTab = (tab) => {
            currentMarketTab = tab;
            
            // Update tab buttons
            document.querySelectorAll('.market-tab').forEach(btn => {
                if (btn.dataset.market === tab) {
                    btn.style.color = 'var(--accent)';
                    btn.style.borderBottomColor = 'var(--accent)';
                } else {
                    btn.style.color = 'var(--muted)';
                    btn.style.borderBottomColor = 'transparent';
                }
            });
            
            // Render appropriate markets
            if (tab === 'polymarket') {
                renderPolymarket(allMarkets);
            } else if (tab === 'kalshi') {
                renderKalshi(kalshiMarkets);
            } else if (tab === 'combined') {
                // Combine and display both
                const combined = [...allMarkets, ...kalshiMarkets];
                renderPolymarket(combined);
                marketCount.textContent = `(${combined.length} total markets)`;
            }
        };

        // Add tab click listeners
        document.querySelectorAll('.market-tab').forEach(btn => {
            btn.addEventListener('click', () => switchMarketTab(btn.dataset.market));
        });

        fetchMarkets();
        setInterval(fetchMarkets, UPDATE_INTERVAL);
        fetchPolymarketTerminal();
        fetchKalshiTerminal();
        setInterval(fetchPolymarketTerminal, 30000);
        setInterval(fetchKalshiTerminal, 30000);

        // Log when page loads
        console.log('Page initialized. Waiting for market data...');

        // BTC Trading Section
        let btcData = {
            price: 0,
            change24h: 0,
            high24h: 0,
            low24h: 0,
            volume24h: 0,
            priceHistory: []
        };
        let tradeAmount = 100;

        // Fetch BTC Price Data
        async function fetchBTCPrice() {
            try {
                const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd&include_24hr_change=true&include_24hr_vol=true');
                const data = await response.json();
                
                if (data.bitcoin) {
                    btcData.price = data.bitcoin.usd;
                    btcData.change24h = data.bitcoin.usd_24h_change || 0;
                    btcData.volume24h = data.bitcoin.usd_24h_vol || 0;
                }

                // Fetch market data for high/low
                const marketResponse = await fetch('https://api.coingecko.com/api/v3/coins/bitcoin/market_chart?vs_currency=usd&days=1');
                const marketData = await marketResponse.json();
                
                if (marketData.prices) {
                    btcData.priceHistory = marketData.prices;
                    const prices = marketData.prices.map(p => p[1]);
                    btcData.high24h = Math.max(...prices);
                    btcData.low24h = Math.min(...prices);
                }

                updateBTCDisplay();
                updateChart();
                updateOrderBook();
            } catch (error) {
                console.error('Error fetching BTC price:', error);
                // Fallback to simulated data
                btcData.price = 95000 + (Math.random() - 0.5) * 1000;
                btcData.change24h = (Math.random() - 0.5) * 5;
                btcData.high24h = btcData.price * 1.02;
                btcData.low24h = btcData.price * 0.98;
                btcData.volume24h = 45000000000;
                generateSimulatedHistory();
                updateBTCDisplay();
                updateChart();
                updateOrderBook();
            }
        }

        function generateSimulatedHistory() {
            btcData.priceHistory = [];
            const now = Date.now();
            const basePrice = btcData.price;
            for (let i = 24; i >= 0; i--) {
                const timestamp = now - (i * 3600000); // hourly data
                const variance = (Math.random() - 0.5) * 2000;
                btcData.priceHistory.push([timestamp, basePrice + variance]);
            }
        }

        function updateBTCDisplay() {
            // Update price
            document.getElementById('btcPrice').textContent = `$${btcData.price.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;
            
            // Update change
            const changeEl = document.getElementById('btcChange');
            const changeArrow = document.getElementById('changeArrow');
            const changePercent = document.getElementById('changePercent');
            
            if (btcData.change24h >= 0) {
                changeEl.classList.add('positive');
                changeEl.classList.remove('negative');
                changeArrow.textContent = '‚ñ≤';
            } else {
                changeEl.classList.add('negative');
                changeEl.classList.remove('positive');
                changeArrow.textContent = '‚ñº';
            }
            changePercent.textContent = `${Math.abs(btcData.change24h).toFixed(1)}%`;
            
            // Update stats
            document.getElementById('btcVolume').textContent = `$${(btcData.volume24h / 1000000000).toFixed(2)}B`;
            document.getElementById('btcHigh').textContent = `$${btcData.high24h.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;
            document.getElementById('btcLow').textContent = `$${btcData.low24h.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;
            
            // Update trade buttons
            document.getElementById('buyPrice').textContent = `$${btcData.price.toLocaleString('en-US', { minimumFractionDigits: 0, maximumFractionDigits: 0 })}`;
            document.getElementById('sellPrice').textContent = `$${btcData.price.toLocaleString('en-US', { minimumFractionDigits: 0, maximumFractionDigits: 0 })}`;
            
            updatePotentialReturn();
        }

        function updateChart() {
            if (!btcData.priceHistory || btcData.priceHistory.length === 0) return;
            
            const chartLine = document.getElementById('chartLine');
            const canvas = document.getElementById('chartCanvas');
            const width = canvas.offsetWidth;
            const height = 220;
            
            const prices = btcData.priceHistory.map(p => p[1]);
            const minPrice = Math.min(...prices);
            const maxPrice = Math.max(...prices);
            const priceRange = maxPrice - minPrice;
            
            const points = btcData.priceHistory.map((point, index) => {
                const x = (index / (btcData.priceHistory.length - 1)) * width;
                const y = height - ((point[1] - minPrice) / priceRange) * (height - 40);
                return `${x},${y}`;
            }).join(' ');
            
            chartLine.setAttribute('points', points);
        }

        function updateOrderBook() {
            const currentPrice = btcData.price;
            const sellOrdersEl = document.getElementById('sellOrders');
            const buyOrdersEl = document.getElementById('buyOrders');
            const spreadEl = document.getElementById('spreadIndicator');
            
            // Generate sell orders (above current price)
            let sellHTML = '';
            for (let i = 3; i >= 1; i--) {
                const price = currentPrice + (i * 50);
                const size = (Math.random() * 2 + 0.5).toFixed(3);
                const total = (price * size).toFixed(0);
                sellHTML += `
                    <div class="order-row">
                        <div class="order-price sell">$${price.toLocaleString('en-US', { minimumFractionDigits: 0, maximumFractionDigits: 0 })}</div>
                        <div class="order-size">${size}</div>
                        <div class="order-total">${total}</div>
                    </div>
                `;
            }
            sellOrdersEl.innerHTML = sellHTML;
            
            // Update spread
            const spread = 100;
            spreadEl.innerHTML = `$${currentPrice.toLocaleString('en-US', { minimumFractionDigits: 0, maximumFractionDigits: 0 })} <span style="color: var(--muted);">spread: $${spread}</span>`;
            
            // Generate buy orders (below current price)
            let buyHTML = '';
            for (let i = 1; i <= 3; i++) {
                const price = currentPrice - (i * 50);
                const size = (Math.random() * 2 + 0.5).toFixed(3);
                const total = (price * size).toFixed(0);
                buyHTML += `
                    <div class="order-row">
                        <div class="order-price buy">$${price.toLocaleString('en-US', { minimumFractionDigits: 0, maximumFractionDigits: 0 })}</div>
                        <div class="order-size">${size}</div>
                        <div class="order-total">${total}</div>
                    </div>
                `;
            }
            buyOrdersEl.innerHTML = buyHTML;
        }

        function setTradeAmount(amount) {
            tradeAmount = amount;
            document.getElementById('tradeAmount').textContent = `$ ${amount.toFixed(2)}`;
            updatePotentialReturn();
        }

        function updatePotentialReturn() {
            const btcAmount = tradeAmount / btcData.price;
            const potentialProfit = btcAmount * btcData.price * 0.15; // Simulated 15% potential return
            document.getElementById('potentialReturn').textContent = `+$${potentialProfit.toFixed(2)}`;
        }

        // Initialize BTC data
        fetchBTCPrice();
        setInterval(fetchBTCPrice, 30000); // Update every 30 seconds

        // Timeframe button functionality
        document.querySelectorAll('.tf-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.tf-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
            });
        });

        // Place order button
        document.getElementById('placeOrderBtn').addEventListener('click', function() {
            alert(`Order placed!\nAmount: $${tradeAmount}\nBTC Price: $${btcData.price.toFixed(2)}`);
        });

        // Modal Functions
        function openChartModal(index, event) {
            if (event) {
                event.stopPropagation();
            }

            if (!window.polymarketData || !window.polymarketData[index]) {
                console.error('Market data not found at index:', index);
                console.error('Available data:', window.polymarketData);
                alert('Market data is loading. Please try again.');
                return;
            }

            const market = window.polymarketData[index];
            console.log('Opening chart for market:', market);

            const modal = document.getElementById('chartModal');
            if (!modal) {
                console.error('Modal element not found');
                return;
            }

            const modalTitle = document.getElementById('modalTitle');
            const modalIcon = document.getElementById('modalIcon');
            const modalVolume = document.getElementById('modalVolume');
            const modal24h = document.getElementById('modal24h');
            const modalOI = document.getElementById('modalOI');
            const modalStatus = document.getElementById('modalStatus');
            const outcomeList = document.getElementById('outcomeList');
            const statsGrid = document.getElementById('statsGrid');
            const resolvedSection = document.getElementById('resolvedSection');
            const resolvedText = document.getElementById('resolvedText');
            const chartContainer = document.querySelector('.modal-chart-container');

            // Set title
            modalTitle.textContent = market.question || market.title || market.slug || 'Unknown Market';

            // Set icon
            if (market.icon || market.image) {
                modalIcon.src = market.icon || market.image;
                modalIcon.style.display = 'block';
            } else {
                modalIcon.style.display = 'none';
            }

            // Set meta data
            const volume = Number(market.volumeNum ?? market.volume ?? 0);
            modalVolume.textContent = `$${volume.toLocaleString()}`;
            modal24h.textContent = `$${(volume * 0.1).toFixed(2)}`;
            modalOI.textContent = `$${(volume * 0.5).toFixed(2)}`;

            // Set status
            const isActive = market.active !== false && !market.closed;
            if (isActive) {
                modalStatus.className = 'status-badge live';
                modalStatus.textContent = '‚óè Live';
                resolvedSection.style.display = 'none';
            } else {
                modalStatus.className = 'status-badge ended';
                modalStatus.textContent = '‚óè Ended';
                resolvedSection.style.display = 'block';
                
                const outcomes = parseArray(market.outcomes);
                const prices = parseArray(market.outcomePrices).map((p) => Number(p) || 0);
                const maxPrice = Math.max(...prices);
                const winnerIndex = prices.indexOf(maxPrice);
                const winner = outcomes[winnerIndex] || 'Unknown';
                resolvedText.textContent = `This market has resolved. ${winner} won.`;
            }

            // Parse outcomes and prices
            const outcomes = parseArray(market.outcomes);
            const prices = parseArray(market.outcomePrices).map((p) => Number(p) || 0);

            // Build outcomes list
            let outcomesHTML = '';
            if (outcomes.length > 0) {
                outcomes.slice(0, 2).forEach((outcome, idx) => {
                    const pct = Math.round((prices[idx] || 0) * 100);
                    const priceClass = idx === 0 ? 'yes' : 'no';
                    outcomesHTML += `
                        <div class="outcome-item">
                            <span class="outcome-name">${outcome}</span>
                            <span class="outcome-price ${priceClass}">${pct}¬¢</span>
                        </div>
                    `;
                });
            } else {
                outcomesHTML = '<div style="color: var(--muted); padding: 16px; text-align: center;">No outcome data available</div>';
            }
            outcomeList.innerHTML = outcomesHTML;

            // Build stats grid
            let statsHTML = '';
            
            statsHTML += `
                <div class="stat-box">
                    <div class="stat-label">Volume</div>
                    <div class="stat-value">$${volume.toLocaleString()}</div>
                </div>
            `;

            const liquidity = market.liquidity || market.liquidityNum || volume * 0.3;
            statsHTML += `
                <div class="stat-box">
                    <div class="stat-label">Liquidity</div>
                    <div class="stat-value">$${Number(liquidity).toLocaleString()}</div>
                </div>
            `;

            statsHTML += `
                <div class="stat-box">
                    <div class="stat-label">Category</div>
                    <div class="stat-value" style="font-size: 12px; text-transform: uppercase;">${market.category || 'General'}</div>
                </div>
            `;

            const traders = Math.floor(volume / 100) || Math.floor(Math.random() * 1000) + 100;
            statsHTML += `
                <div class="stat-box">
                    <div class="stat-label">Traders</div>
                    <div class="stat-value">${traders.toLocaleString()}</div>
                </div>
            `;

            statsGrid.innerHTML = statsHTML;

            // Create simple canvas chart
            chartContainer.innerHTML = '';
            
            // Get container dimensions first
            const containerWidth = chartContainer.offsetWidth || 800;
            const containerHeight = 400;
            
            const canvas = document.createElement('canvas');
            canvas.width = containerWidth;
            canvas.height = containerHeight;
            canvas.style.width = '100%';
            canvas.style.height = '100%';
            
            chartContainer.appendChild(canvas);
            
            // Simple line chart
            const ctx = canvas.getContext('2d');
            const padding = 40;
            const width = canvas.width - padding * 2;
            const height = canvas.height - padding * 2;
            
            // Generate random chart data
            const points = [];
            const basePrice = volume > 0 ? (volume / 10000) % 100 : 50;
            for (let i = 0; i <= 24; i++) {
                const variance = (Math.random() - 0.5) * 30;
                points.push(basePrice + variance);
            }
            
            const minPrice = Math.min(...points);
            const maxPrice = Math.max(...points);
            const priceRange = maxPrice - minPrice || 1;
            
            // Draw grid
            ctx.strokeStyle = 'rgba(255, 255, 255, 0.05)';
            ctx.lineWidth = 1;
            for (let i = 0; i <= 4; i++) {
                const y = padding + (i * height / 4);
                ctx.beginPath();
                ctx.moveTo(padding, y);
                ctx.lineTo(width + padding, y);
                ctx.stroke();
            }
            
            // Draw line chart
            ctx.strokeStyle = '#97eefb';
            ctx.lineWidth = 2;
            ctx.beginPath();
            
            points.forEach((price, index) => {
                const x = padding + (index / (points.length - 1)) * width;
                const y = padding + height - ((price - minPrice) / priceRange) * height;
                
                if (index === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            });
            ctx.stroke();
            
            // Fill area
            ctx.strokeStyle = '#97eefb';
            ctx.fillStyle = 'rgba(151, 238, 251, 0.1)';
            ctx.lineTo(width + padding, padding + height);
            ctx.lineTo(padding, padding + height);
            ctx.closePath();
            ctx.fill();
            
            // Draw axis labels
            ctx.fillStyle = 'rgba(255, 255, 255, 0.5)';
            ctx.font = '12px sans-serif';
            
            const yMax = (maxPrice).toFixed(2);
            const yMin = (minPrice).toFixed(2);
            ctx.fillText(yMax, 5, padding + 10);
            ctx.fillText(yMin, 5, padding + height + 5);

            // Show modal
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeChartModal() {
            const modal = document.getElementById('chartModal');
            if (modal) {
                modal.classList.remove('active');
                document.body.style.overflow = 'auto';
            }
        }

        function showComingSoon() {
            alert('üöÄ Coming Soon on VOLIX AI!');
        }

        // Close modal on overlay click
        document.addEventListener('DOMContentLoaded', function() {
            const chartModal = document.getElementById('chartModal');
            
            // Close on overlay click
            if (chartModal) {
                chartModal.addEventListener('click', function(e) {
                    if (e.target === this) {
                        closeChartModal();
                    }
                });
            }
            
            // Close on Escape key
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    closeChartModal();
                }
            });
        });

        // Timeframe button functionality
        document.addEventListener('DOMContentLoaded', function() {
            const timeframeBtns = document.querySelectorAll('.timeframe-btn');
            timeframeBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    timeframeBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                });
            });

            // Tab buttons interactivity
            const tabBtns = document.querySelectorAll('.chart-tab');
            tabBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    tabBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                });
            });

            // Category filter
            const categoryItems = document.querySelectorAll('.category-item');
            categoryItems.forEach(item => {
                item.addEventListener('click', function() {
                    categoryItems.forEach(i => i.classList.remove('active'));
                    this.classList.add('active');
                    activeCategory = this.getAttribute('data-category');
                    displayedCount = 10; // Reset displayed count
                    
                    // Re-render immediately
                    if (allMarkets && allMarkets.length > 0) {
                        renderPolymarket(allMarkets);
                    }
                });
            });

            // Tag filter
            const tagPills = document.querySelectorAll('.tag-pill');
            tagPills.forEach(pill => {
                pill.addEventListener('click', function() {
                    tagPills.forEach(p => p.classList.remove('active'));
                    this.classList.add('active');
                    activeTag = this.getAttribute('data-tag');
                    displayedCount = 10; // Reset displayed count
                    
                    // Re-render immediately
                    if (allMarkets && allMarkets.length > 0) {
                        renderPolymarket(allMarkets);
                    }
                });
            });
        });
    </script>
</body>
</html>
